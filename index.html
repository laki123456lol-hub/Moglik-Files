<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Moglik Files</title>

<style>

/* ---------- RESET ---------- */
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:"Segoe UI",sans-serif;
}

/* ---------- BODY ---------- */
body{
    background:linear-gradient(145deg,#1f1f1f,#2f2f2f);
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    color:white;
}

/* ---------- CONTAINER ---------- */
.container{
    width:95%;
    max-width:1200px;
    text-align:center;
}

/* ---------- TITLE ---------- */
h1{
    font-size:4rem;
    margin-bottom:25px;
    letter-spacing:4px;
}

/* ---------- TIMER ---------- */
.timer{
    display:flex;
    justify-content:center;
    gap:25px;
    margin-bottom:30px;
}

.bubble{
    background:rgba(255,255,255,0.08);
    padding:35px 30px;
    border-radius:20px;
    font-size:4rem;
    min-width:140px;
    box-shadow:0 0 30px rgba(0,0,0,0.5);
    backdrop-filter:blur(12px);
    animation:pulse 2s infinite alternate;
}

@keyframes pulse{
    from{box-shadow:0 0 20px rgba(255,255,255,0.2);}
    to{box-shadow:0 0 40px rgba(255,255,255,0.4);}
}

/* ---------- GALLERY ---------- */
#gallery{
    display:none;
    grid-template-columns:repeat(auto-fill,minmax(110px,1fr));
    gap:10px;
    animation:fade 0.6s ease;
}

#gallery img{
    width:100%;
    height:110px;
    object-fit:cover;
    border-radius:10px;
    cursor:pointer;
    transition:0.2s;
}

#gallery img:hover{
    transform:scale(1.07);
}

/* ---------- SPECIAL IMAGE ---------- */
.glow{
    box-shadow:0 0 25px 6px gold;
    animation:glowPulse 1.8s infinite alternate;
}

@keyframes glowPulse{
    from{box-shadow:0 0 15px gold;}
    to{box-shadow:0 0 35px gold;}
}

.photoWrap{
    display:flex;
    flex-direction:column;
    align-items:center;
}

.photoWrap span{
    margin-top:6px;
    font-size:0.9rem;
    color:gold;
    letter-spacing:1px;
}

/* ---------- LIGHTBOX ---------- */
#lightbox{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.85);
    display:none;
    justify-content:center;
    align-items:center;
    z-index:10;
}

#lightbox img{
    max-width:90%;
    max-height:90%;
    border-radius:15px;
}

/* ---------- FADE ---------- */
@keyframes fade{
    from{opacity:0;}
    to{opacity:1;}
}

</style>
</head>

<body>

<div class="container">

<h1>Moglik files</h1>

<div class="timer" id="timer">
    <div class="bubble" id="h">24</div>
    <div class="bubble" id="m">00</div>
    <div class="bubble" id="s">00</div>
</div>

<div id="gallery"></div>

<div id="lightbox" onclick="closeLightbox()">
    <img id="lightboxImg">
</div>

</div>

<script>

/* ---------- OPTIMIZED TIMER ---------- */

const FULL = 24*60*60;
let timeLeft = parseInt(localStorage.getItem("moglikTime")) || FULL;
let running = true;

const hEl = document.getElementById("h");
const mEl = document.getElementById("m");
const sEl = document.getElementById("s");
const timerEl = document.getElementById("timer");
const galleryEl = document.getElementById("gallery");

function updateDisplay(){
    hEl.textContent = String(Math.floor(timeLeft/3600)).padStart(2,"0");
    mEl.textContent = String(Math.floor((timeLeft%3600)/60)).padStart(2,"0");
    sEl.textContent = String(timeLeft%60).padStart(2,"0");
}

function tick(){
    if(!running) return;

    if(timeLeft<=0){
        running=false;
        localStorage.removeItem("moglikTime");
        showGallery();
        return;
    }

    timeLeft--;
    localStorage.setItem("moglikTime",timeLeft);
    updateDisplay();
}

setInterval(tick,1000);
updateDisplay();

/* ---------- SKIP HOTKEY ---------- */

document.addEventListener("keydown",e=>{
    if(e.ctrlKey && e.shiftKey && e.key.toLowerCase()==="f"){
        running=false;
        localStorage.removeItem("moglikTime");
        showGallery();
    }
});

/* ---------- SHOW GALLERY ---------- */

function showGallery(){
    timerEl.style.display="none";
    galleryEl.style.display="grid";
    loadImages();
}

/* ---------- LOAD 70 IMAGES ---------- */

function loadImages(){
    galleryEl.innerHTML="";

    for(let i=1;i<=70;i++){
        const wrap=document.createElement("div");
        wrap.className="photoWrap";

        const img=document.createElement("img");
        const src=`photos/img${i}.jpg`;
        img.src=src;
        img.loading="lazy";
        img.onclick=()=>openLightbox(src);

        if(i===50){
            img.classList.add("glow");

            const label=document.createElement("span");
            label.textContent="Goaty";
            wrap.appendChild(img);
            wrap.appendChild(label);
        }else{
            wrap.appendChild(img);
        }

        galleryEl.appendChild(wrap);
    }
}

/* ---------- LIGHTBOX ---------- */

function openLightbox(src){
    document.getElementById("lightboxImg").src=src;
    document.getElementById("lightbox").style.display="flex";
}

function closeLightbox(){
    document.getElementById("lightbox").style.display="none";
}

</script>

</body>
</html>
